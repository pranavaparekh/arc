{% includeJsFile "/assets/js/zozo.tabs.min.js"  %}
{% includeCssFile "/assets/css/zozo.tabs.min.css"  %}

{% set kcContentCss %}

  .kc-content {
    padding: 30px 0;
  }

  .kc-content__headline {
    font-size: 2.3em;
    color: {{ brandPrimary }};
    font-weight: 300;
    line-height: normal;
  }

  .kc-content__border {
    width: 15%;
    border: 2px solid #034883;
  }

  .kc-content__type-item {
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.04em;
    font-size: 1.3em;
  }

  .kc-content__list {

  }

  .kc-content__list__item {
    margin-bottom: 60px;
  }

  .kc-item-number {
    font-size: 21px;
    line-height: 1;
    color: #999;
    float: left;
    font-weight: 300;
    border: 2px solid #E1E1E1;
    color: {{ brandPrimary }};
    border-radius: 50%;
    padding: 11px;
    height: 50px;
    width: 50px;
    text-align: center;
    margin-left: -77px;
    -webkit-animation-duration: 0.4s;
    animation-duration: 0.4s;
    /*margin-top: -10px;*/
  }

{% endset %}

{% set kcContentJs %}

$(document).ready(function () {

      $("#kcContent").zozoTabs({
          theme: "black",
          style: "underlined",
          orientation: "horizontal",
          position: "top-center",
          size: "xlarge",
          animation: {
            easing: "easeInOutExpo",
            duration: 400,
            effects: "slideH"
          },
      });
  });

{% endset %}

{% includeCss kcContentCss %}
{% includeJs kcContentJs %}


 <!-- start column 1 -->
{# Get the category that this entry belongs to #}
{% set entryCategory = entry.servicesCategory.first() %}
{# Pass the above category slug to the below query for knowledge center domain #}
{% set practicesCategory = craft.categories.group('practices').slug(entryCategory.slug) %}
{# Filter entries in knowledge center by category slug #}
{% set blogPosts = craft.entries.section('blogs').relatedTo(practicesCategory).limit(3) %}
{% set articles = craft.entries.section('articles').relatedTo(practicesCategory).limit(3) %}
{% set infographics = craft.entries.section('infographics').relatedTo(practicesCategory).limit(3) %}
{% set specialReports = craft.entries.section('specialReports').relatedTo(practicesCategory).limit(3) %}

<section class="container-fluid kc-content">
  <div class="row">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">

          <h2 class="kc-content__headline text-center">Knowledge Library</h2>
          <hr class="kc-content__border">

            <!-- Start: Ztabs -->
            <div class="row">
              <div class="col-sm-12">

                <!-- Zozo Tabs Start-->
                <div id="kcContent">

                    <!-- Tab Navigation Menu -->
                    <ul>
                      {% if blogPosts.total() > 0 %}
                        <li class="kc-content__type-item"><a>Blogs and Opinions</a></li>
                      {% endif %}

                      {% if articles.total() > 0 %}
                        <li class="kc-content__type-item"><a>Articles</a></li>
                      {% endif %}

                      {% if infographics.total() > 0 %}
                        <li class="kc-content__type-item"><a>Infographics</a></li>
                      {% endif %}

                      {% if specialReports.total() > 0 %}
                        <li class="kc-content__type-item"><a>Special Reports</a></li>
                      {% endif %}
                    </ul>

                    <!-- Start: Content container -->
                    <div>
                      <!-- Blogs and Opinions -->
                      {% if blogPosts.total() > 0 %}
                        <div class="row">
                          <div class="col-sm-8 col-sm-offset-2">
                            <ol class="kc-content__list">
                              {% for blogPost in blogPosts %}
                              <li class="kc-content__list__item">
                                <div class="kc-item-number">{{ loop.index }}</div>
                                <article class="kc-content__grid__item kc-content__blog1 image-cover">
                                  <div class="kc-content__grid__inner">
                                    <h5 class="kc-content__headline">{{ blogPost.title }}</h5>
                                  </div>
                                </article>
                              </li>
                              {% endfor %}
                            </ol>
                          </div><!-- offset-2-->
                        </div><!-- row -->
                      {% endif %}
                      <!-- end Blogs and Opinions -->

                      <!-- Articles -->
                      {% if articles.total() > 0 %}
                        <div class="row">
                          <div class="col-sm-8 col-sm-offset-2">
                            <ol class="kc-content__list">
                              {% for article in articles %}
                              <div class="kc-item-number">{{ loop.index }}</div>
                              <li class="kc-content__list__item">
                                <article class="kc-content__grid__item kc-content__blog1 image-cover">
                                  <div class="kc-content__grid__inner">
                                    <h5 class="kc-content__headline">{{ article.title }}</h5>
                                  </div>
                                </article>
                              </li>
                              {% endfor %}
                            </ol>
                          </div><!-- offset-2-->
                        </div><!-- row -->
                      {% endif %}
                      <!-- end Articles -->

                      <!-- Infographics -->
                      {% if infographics.total() > 0 %}
                        <div class="row">
                          <div class="col-sm-8 col-sm-offset-2">
                            <ol class="kc-content__list">
                              {% for infographic in infographics %}
                              <div class="kc-item-number">{{ loop.index }}</div>
                              <li class="kc-content__list__item">
                                <article class="kc-content__grid__item kc-content__blog1 image-cover">
                                  <div class="kc-content__grid__inner">
                                    <h5 class="kc-content__headline">{{ infographic.title }}</h5>
                                  </div>
                                </article>
                              </li>
                              {% endfor %}
                            </ol>
                          </div><!-- offset-2-->
                        </div><!-- row -->
                      {% endif %}
                      <!-- end Infographics -->

                      <!-- Special Reports -->
                      {% if specialReports.total() > 0 %}
                        <div class="row">
                          <div class="col-sm-8 col-sm-offset-2">
                            <ol class="kc-content__list">
                              {% for specialReport in specialReports %}
                              <div class="kc-item-number">{{ loop.index }}</div>
                              <li class="kc-content__list__item">
                                <article class="kc-content__grid__item kc-content__blog1 image-cover">
                                  <div class="kc-content__grid__inner">
                                    <h5 class="kc-content__headline">{{ specialReport.title }} | {{ specialReport.practiceCategory.first() }}</h5>
                                  </div>
                                </article>
                              </li>
                              {% endfor %}
                            </ol>
                          </div><!-- offset-2-->
                        </div><!-- row -->
                      {% endif %}
                      <!-- end Special Reports -->

                    </div><!-- End: content container -->
                </div>
                <!-- Zozo Tabs End-->
              </div> <!-- end col-sm-12 -->
            </div> <!-- end row -->
            <!-- End: Ztabs -->

        </div>   <!-- end col-sm-12 -->
      </div>   <!-- end row -->
    </div>   <!-- end container -->
  </div>  <!-- end row -->
</section>

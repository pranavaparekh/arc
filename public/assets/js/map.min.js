window.map={map_type:"ROADMAP",map_zoom:15,map_style:"blackwhite",map_scrollable:"on",marker:"show",label:["London Royal","Athens Bistro"],address:"",latlng:["51.511084, -0.133202","51.506623, -0.111916"],center_latlng:"",markerURL:"assets/images/marker.png",auto_center:!0},jQuery(document).ready(function(e){e(".google-map").each(function(){function o(){var e=[{stylers:[{saturation:-100}]}],o={zoom:parseInt(t.map_zoom,10),scrollwheel:!1,draggable:"on"===t.map_scrollable,mapTypeId:google.maps.MapTypeId[t.map_type]};return"blackwhite"===t.map_style&&(o.styles=e),new google.maps.Map(n[0],o)}function a(e,o){if("show"===t.marker){var a={url:t.markerURL,size:new google.maps.Size(30,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,48)},n=new google.maps.Marker({position:e,icon:a,map:s});if(l.extend(e),void 0!==t.label[o]){var r=new google.maps.InfoWindow({content:t.label[o]});google.maps.event.addListener(n,"click",function(){r.open(s,this)})}}}var n=e(this),t=window[n.attr("id")],s=o(),l=new google.maps.LatLngBounds,r=!t.auto_center;if(r)if(void 0!==t.center_latlng){var g=t.center_latlng.split(","),i=new google.maps.LatLng(g[0],g[1]);s.setCenter(i)}else console.log("You have not set any coordinates for the map to be centered at.");if(t.address){var m=0;e.each(t.address,function(e,o){var n=new google.maps.Geocoder;n.geocode({address:o},function(o,n){if(n===google.maps.GeocoderStatus.OK){if(void 0!==o[0]){var g=o[0].geometry.location,i=new google.maps.LatLng(g.k,g.D);a(i,e)}m++,r||m!==t.address.length||s.fitBounds(l)}else console.log("Geocode was not successful for the following reason: "+n)})})}else if(void 0!==t.latlng){for(var p=0;p<t.latlng.length;p++){var d=t.latlng[p].split(","),c=new google.maps.LatLng(d[0],d[1]);a(c,p)}r||s.fitBounds(l)}var f=google.maps.event.addListener(s,"bounds_changed",function(){this.setZoom(parseInt(t.map_zoom,10)),google.maps.event.removeListener(f)})})});